<!DOCTYPE html>
<html  lang="en">
<head>
  <title>Personal URL Shortener In Three Lines Of Code &middot; Lars Wiegman</title>

  
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <meta name="description" content="Personal profile site of Lars Wiegman">
  <meta name="author" content="Lars Wiegman">
  <meta name="generator" content="Hugo 0.15" />

  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  
  <link rel="stylesheet" href="/css/main.css">

  
  <link rel="shortcut icon" href="/favicon.ico">  

  
  
  <link href="/feed.xml" rel="alternate" type="application/rss+xml" title="Lars Wiegman" />
  <link href="/feed.xml" rel="feed" type="application/rss+xml" title="Lars Wiegman" />
  
</head>
<body>
  <div id="pjax-container" data-title="Personal URL Shortener In Three Lines Of Code &middot; Lars Wiegman">
    <header role="main">
      <div class="container">
        <div class="banner"><a href="/"><img src="/img/logo.svg" alt="Lars Wiegman"></a></div>
        <hr class="fancy-line">
        <nav>
          <ul class="menu inline-list">
            
            
            <li><a class="sidebar-nav-item" href="/">Home</a></li>
            <li><a class="sidebar-nav-item" href="/skills/">Skills</a></li>
            <li><a class="sidebar-nav-item" href="/blog/">Blog</a></li>
            <li><a class="sidebar-nav-item" href="/contact/">Contact</a></li>
          </ul>
        </nav>
      </div>
    </header>
<main>
    <section class="super">
        <div class="container half">
            <article class="entry">
    <header class="entry-header">
        <a href="/article/2011/04/23/personal-url-shortener-in-three-lines-of-code/"><h2>Personal URL Shortener In Three Lines Of Code</h2></a>
    </header>
    <time class="entry-date" datetime="Sat, 23 Apr 2011 02:28:20 &#43;0200" title="04-23-2011">posted on April 23, 2011</time>
    <a class="entry-permalink" href="/article/2011/04/23/personal-url-shortener-in-three-lines-of-code/" title="Permalink to Personal URL Shortener In Three Lines Of Code">&#35;</i></a>
    <section class="entry-body"><p>Having your own URL shortener service has some benefits over using a third party service. To name two: more exposure for your personal domain and full access to web traffic data. But if, for whatever reason, you don&rsquo;t want to host your own here is a quick hack using the Nginx webserver.</p>

<p>Choose a reliable URL shortener service. I&rsquo;m betting on Google&rsquo;s service at <a href="http://goo.gl/" title="Google's URL Shortener">http://goo.gl/</a>. Add the following three lines to the server section of your Nginx configuration:</p>

<pre><code>location ~ /u/(.*)$ {
    rewrite ^/u/(.*)/?$ http://goo.gl/$1 redirect;
}
</code></pre>

<p>Generate a shortened URL at <a href="http://goo.gl/" title="Google's URL Shortener">http://goo.gl/</a> and replace the goo.gl domain with your own. In my case:</p>

<pre><code>http://goo.gl/nlthH &gt; http://namsral.com/u/nlthH
</code></pre>

<p>When users click on your shortened URL they will be redirected to Google&rsquo;s shortened URL which in turn will redirect users to their final destination. This all happens in a flash, <a href="http://namsral.com/u/nlthH">try it</a> .</p>

<p>By adding a unique path to your shortened URLs you&rsquo;ll be able to differentiate them from  other content on your site. Now using grep you can quickly scan through the Nginx logs for clicks:</p>

<pre><code>grep '/u/' /var/log/nginx/namsral.com.access.log
</code></pre>
</section>
</article>

        </div>
    </section>
    
    <section class="super divorce">
        <div class="container half">
            <h2>Read Next:</h2>
            <a href="/article/2011/10/06/how-steve-jobs-will-be-remembered/" class="read-next">
                <header class="post-header">How Steve Jobs Will Be Remembered</header></a>
                <p>Barack Obama, via AllThinsD: And there may be no greater tribute to Steve’s success than the fact that much of the world learned of his passing on a device he invented. Larry Page, CEO at Google, via Goolge+: He was very kind to reach out to me as I became CEO of Google and spend time offering his advice and knowledge even though he was not at all well. Lakshan Perera, via LakTEK Steve’s life was not bed of roses. <a href="/article/2011/10/06/how-steve-jobs-will-be-remembered/" class="read-next">Continue &raquo;</a></p>
        </div>
    </section>
    
</main>
  <footer>
    <div class="container main ac">
      <ul class="nav">
        <li><a href="/">Home</a></li>
        <li><a href="/skills">Skills</a></li>
        <li><a href="/blog">Blog</a></li>
        <li><a href="/contact">Contact</a></li>
        <li>•</li>
        <li><a href="/archive">Archive</a></li>
        <li><a href="/feed.xml" type="application/rss+xml" target="_blank">Feed</a></li>
        <li><a href="https://github.com/namsral">GitHub</a></li>
      </ul>
    </div>
    <div class="container ac">
      <p class="copyright">Copyright &copy; 2007-2016 Lars Wiegman, <a href="/mailto/lars">lars@<span class="begone"> at </span>namsral.com</a></p>
    </div>
  </footer>
</div>

</body>
</html>